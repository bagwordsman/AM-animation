"use strict";var debug=animationSettings.debug,safariHead=animationSettings.safariCaveatHeading,safariMsg=animationSettings.safariCaveat,safariMsgSmall=animationSettings.safariCaveatSmall,safariLink=animationSettings.safariCaveatLink,greenBg=getComputedStyle(document.body).getPropertyValue("--bg_green"),greyBg=getComputedStyle(document.body).getPropertyValue("--bg_grey"),orangeBg=getComputedStyle(document.body).getPropertyValue("--bg_orange"),blueBg=getComputedStyle(document.body).getPropertyValue("--bg_blue"),redBg=getComputedStyle(document.body).getPropertyValue("--bg_red"),signpostBg=getComputedStyle(document.body).getPropertyValue("--sign_grey"),signSvg=document.querySelector(".stage-two svg");function createGradient(e,t,a){var o=e.namespaceURI,n=document.createElementNS(o,"linearGradient");return n.setAttribute("id",t),n.setAttribute("x1",0),n.setAttribute("x2",0),n.setAttribute("y1",0),n.setAttribute("y2",1),a.forEach(function(e){var t=e,a=document.createElementNS(o,"stop");for(var r in t)t.hasOwnProperty(r)&&a.setAttribute(r,t[r]);n.appendChild(a)}),(e.querySelector("defs")||e.insertBefore(document.createElementNS(o,"defs"),e.firstChild)).appendChild(n)}createGradient(signSvg,"PoleGradient",[{offset:"0","stop-color":signpostBg,"stop-opacity":1},{offset:"100%","stop-color":signpostBg,"stop-opacity":0}]),signSvg.setAttribute("fill","url(#PoleGradient)");var userAgent=window.navigator.userAgent;if(userAgent.match(/iP(ad|hone|od).+Version\/[\d\.]+.*Safari/i)){var safariText=function(){if(window.innerWidth<660){var e=document.querySelector(".safariMobile .container").getAttribute("data-small");e!==document.querySelector(".safariMobile .container p").textContent&&(document.querySelector(".safariMobile .container p").textContent=e)}else{var t=document.querySelector(".safariMobile .container").getAttribute("data-big");t!==document.querySelector(".safariMobile .container p").textContent&&(document.querySelector(".safariMobile .container p").textContent=t)}var a=document.querySelector(".safariMobile .container").scrollHeight;document.querySelector(".safariMobile").style.height=a+"px"},safariMobMsg=document.createElement("div");safariMobMsg.classList.add("safariMobile"),safariMobMsg.innerHTML='<div class="container" data-small="'+safariMsgSmall+'" data-big="'+safariMsg+'">\n        <h3>'+safariHead+"</h3>\n        <p>"+safariMsg+'</p><p><a href="'+safariLink+'">'+safariLink+'</a>.</p>\n        <i class="fa fa-2x fa-times"></i>\n    </div>',body.appendChild(safariMobMsg);var removeBtn=document.querySelector(".safariMobile .fa-times");safariMobMsg.addEventListener("click",function(e){e.target==removeBtn&&(safariMobMsg.style.height="0px")}),(window.onresize=safariText)()}function scrollMagic(){var e=Array.from(document.querySelectorAll(".stage-one .tick")),t=Array.from(document.querySelectorAll(".stage-two svg > g")),a=Array.from(document.querySelectorAll(".stage-three svg > g.signature, .stage-three svg > g.stamp")),r=new ScrollMagic.Controller,o=new TimelineMax;o.fromTo(".overview .paragraph",.25,{opacity:0,transform:"translatex(-500px)"},{opacity:1,transform:"translate(0px)",ease:"ease-in-out"}).staggerFromTo(".overview svg > g",1.5,{transform:"translate(1000px, -1000px)"},{transform:"translate(0px)",ease:"ease-in-out"},.15);var n=new ScrollMagic.Scene({triggerElement:".overview",duration:"2000px",triggerHook:0}).setTween(o).setPin(".overview").addTo(r),s=new ScrollMagic.Controller,i=new TimelineMax;i.fromTo(".stages-title h3",.5,{opacity:0,transform:"translatex(-500px)"},{opacity:1,transform:"translatex(0px)",ease:Power2.easeOut}).to("body",1,{backgroundColor:greyBg,ease:Power1.easeOut},0);var g=new ScrollMagic.Scene({triggerElement:".stages-title",duration:"1000px",triggerHook:0}).setTween(i).setPin(".stages-title").addTo(s),l=new ScrollMagic.Controller,d=new TimelineMax;d.fromTo(".stage-one .paragraph",.5,{opacity:0,transform:"translatex(500px)"},{opacity:1,transform:"translatex(0px)",ease:Power2.easeOut}).fromTo(".stage-one svg",.25,{transform:"translate(-600px, 500px)"},{transform:"translate(0px)",ease:Power2.easeOut},.5).staggerTo(e,.5,{className:"+=active",ease:Power2.easeOut},.5).to("body",1,{backgroundColor:orangeBg,ease:Power1.easeOut},0);var c=new ScrollMagic.Scene({triggerElement:".stage-one",duration:"2000px",triggerHook:0}).setTween(d).setPin(".stage-one").addTo(l),m=new ScrollMagic.Controller,u=new TimelineMax;u.fromTo(".stage-two .paragraph",.5,{opacity:0,transform:"translatex(-500px)"},{opacity:1,transform:"translatex(0px)",ease:Power2.easeOut}).fromTo(".stage-two svg",.25,{transform:"translate(0, 600px)"},{transform:"translate(0px)",ease:Power2.easeOut},2).staggerTo(t,.5,{className:"+=opaque"},.5).to("body",1,{backgroundColor:blueBg,ease:Power1.easeOut},0);var p=new ScrollMagic.Scene({triggerElement:".stage-two",duration:"2000px",triggerHook:0}).setTween(u).setPin(".stage-two").addTo(m),f=new ScrollMagic.Controller,w=new TimelineMax;w.fromTo(".stage-three .paragraph",.5,{opacity:0,transform:"translatex(500px)"},{opacity:1,transform:"translatex(0px)",ease:Power2.easeOut}).fromTo(".stage-three svg",.25,{transform:"translate(-750px, -500px)"},{transform:"translate(0px)",ease:Power2.easeOut},.5).staggerTo(a,.5,{className:"+=active"},.5).to("body",1,{backgroundColor:redBg,ease:Power1.easeOut},0);var y=new ScrollMagic.Scene({triggerElement:".stage-three",duration:"2000px",triggerHook:0}).setTween(w).setPin(".stage-three").addTo(f),x=new ScrollMagic.Controller,b=new TimelineMax;b.fromTo(".end-cta .container",.5,{opacity:0,transform:"translatex(-500px)"},{opacity:1,transform:"translatex(0px)",ease:Power2.easeOut}).to("body",1,{backgroundColor:greenBg,ease:Power1.easeOut},0);var v=new ScrollMagic.Scene({triggerElement:".end-cta",duration:"2000px",triggerHook:0}).setTween(b).setPin(".end-cta").addTo(x);1==debug&&(n.addIndicators({name:"overview",indent:0}),g.addIndicators({name:"stages title",indent:150}),c.addIndicators({name:"miam",indent:300}),p.addIndicators({name:"mediation",indent:450}),y.addIndicators({name:"end",indent:600}),v.addIndicators({name:"cta",indent:750}))}window.addEventListener?window.addEventListener("load",scrollMagic,!1):window.attachEvent?window.attachEvent("onload",scrollMagic):window.onload=scrollMagic;